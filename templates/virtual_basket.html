{% extends "base.html" %}

{% block title %}Virtual Basket - SnapCart{% endblock %}

{% block content %}
<section class="virtual-basket-page">
    <div class="container">
        <div class="page-header">
            <h1 class="page-title">Virtual Basket</h1>
            <p class="page-subtitle">Describe what you're looking for, and we'll suggest the perfect combinations!</p>
        </div>
        
        <!-- Input Section -->
        <div class="virtual-basket-input-section">
            <div class="card">
                <div class="card__body">
                    <label for="basket-input" class="form-label">What would you like to wear today?</label>
                    <textarea id="basket-input" 
                              class="form-control" 
                              rows="4" 
                              placeholder="Example: 1 white shirt, 1 black pant, 1 pair of white sneakers"></textarea>
                    
                    <div class="example-chips">
                        <span class="chip">1 white shirt, 1 black pant, 1 pair of sneakers</span>
                        <span class="chip">1 blue jeans, 1 black leather jacket</span>
                        <span class="chip">1 formal shirt, 1 brown belt, 1 pair of formal shoes</span>
                    </div>
                    
                    <button id="parse-basket-btn" class="btn btn--primary btn--lg btn--full-width">
                        Find My Outfit
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Loading State -->
        <div id="loading-state" class="loading-state" style="display: none;">
            <div class="spinner"></div>
            <p>Finding perfect combinations for you...</p>
        </div>
        
        <!-- Results Section -->
        <div id="results-section" style="display: none;">
            <!-- Parsed Items -->
            <div class="results-subsection">
                <h2 class="section-title">Items You're Looking For</h2>
                <div id="parsed-items" class="parsed-items-grid"></div>
            </div>
            
            <!-- Suggested Combos -->
            <div class="results-subsection">
                <h2 class="section-title">Suggested Outfit Combinations</h2>
                <div id="suggested-combos"></div>
            </div>
            
            <!-- Individual Suggestions -->
            <div class="results-subsection">
                <h2 class="section-title">Product Suggestions</h2>
                <div id="product-suggestions"></div>
            </div>
        </div>
        
        <!-- Empty State -->
        <div id="empty-state" class="empty-state">
            <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/>
                <circle cx="12" cy="10" r="3"/>
            </svg>
            <h3>Start Creating Your Perfect Outfit</h3>
            <p>Type what you're looking for in the box above, and we'll help you find matching items!</p>
        </div>
    </div>
</section>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/virtual_basket.js') }}"></script>
<script src="{{ url_for('static', filename='js/cart.js') }}"></script>
{% endblock %}
